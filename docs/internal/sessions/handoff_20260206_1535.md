# Handoff Document - NAAF Research Agents
**Date**: 2026-02-06 15:35 PST
**From**: tmc + Andy (Claude)
**To**: Jerel + Agent
**Deadline**: 4:30 PM submission

---

## Current Status: READY FOR DEMO

The backend is functional and demo-ready with the single-agent architecture. Jerel has a superior multi-agent implementation running on a separate branch.

### What's Working Now
- FastAPI server at `http://localhost:8000`
- Built-in Web UI at `/ui` with SSE streaming
- You.com Search integration (primary)
- Saved runs with replay capability
- Cloud Run deployment script ready
- Git history cleaned (leaked API key removed)
- Pre-push hook with trufflehog installed

### Quick Start
```bash
cd backend
export YDC_API_KEY=<get-new-key-from-youcom>  # Old key was disabled
make run
```

---

## KEY DECISION NEEDED

**Single-agent (current `main`)** vs **Multi-agent (Jerel's branch)**

Jerel's multi-agent architecture is better:
- 8 parallel layer agents + supervisor
- ADK dev-ui visualization (great for demo)
- Faster execution
- Better separation of concerns

**Recommendation**: Use Jerel's branch for the demo, merge the useful pieces from main:
- `deploy.sh` - Cloud Run deployment
- `Makefile` - Easy local dev
- `.git/hooks/pre-push` - Secret scanning
- `CLAUDE.md` - AI assistant guidelines

---

## Files Worth Keeping from Main

| File | Purpose |
|------|---------|
| `backend/deploy.sh` | One-command Cloud Run deployment |
| `backend/Makefile` | `make run` with env checking |
| `backend/Dockerfile` | Container build |
| `backend/.dockerignore` | Excludes for container |
| `backend/.gcloudignore` | Excludes for gcloud |
| `.git/hooks/pre-push` | Trufflehog secret scanning |
| `CLAUDE.md` | Comprehensive AI guidelines |
| `backend/README.md` | Clean deployment docs |

---

## API Keys Status

| Key | Status | Notes |
|-----|--------|-------|
| `YDC_API_KEY` | **DISABLED** | Was leaked, need new key from You.com |
| `GOOGLE_API_KEY` | Active | $20 credit |
| `EXA_API_KEY` | Not configured | Optional |

**Action needed**: Get new You.com API key before demo.

---

## Environment Variables

```bash
export YDC_API_KEY=<new-key>           # Required - get from You.com
export GOOGLE_API_KEY=<key>            # Optional - for Gemini
```

---

## Demo Checklist

1. [ ] Get new YDC_API_KEY from You.com
2. [ ] Decide: Jerel's multi-agent branch or main's single-agent
3. [ ] Start server: `make run` or `python run.py`
4. [ ] Open UI: `http://localhost:8000/ui` (or ADK dev-ui for multi-agent)
5. [ ] Run assessment: Try "Singapore" or "Brazil"
6. [ ] Show saved runs replay
7. [ ] (Optional) Deploy to Cloud Run: `./deploy.sh`

---

## The 8-Layer Framework (for reference)

| # | Layer | Weight |
|---|-------|--------|
| 1 | Power & Electricity | 20% |
| 2 | Chipset Manufacturers | 15% |
| 3 | Cloud & Data Centers | 15% |
| 4 | Model Developers | 10% |
| 5 | Platform & Data | 10% |
| 6 | Applications & Startups | 10% |
| 7 | Education & Consulting | 10% |
| 8 | Implementation | 10% |

**Power Tiers**: Hegemon (80-100), Strategic Specialist (50-79), Adopter (30-49), Consumer (0-29)

---

## Git Notes

- Main branch history was rewritten to remove leaked secret
- Force push already done
- Pre-push hook will block any future secret commits
- Run `trufflehog git file://. --only-verified` to verify clean

---

## If Things Break

### "YDC_API_KEY not configured"
```bash
export YDC_API_KEY=your-key
```

### Import errors
```bash
cd backend  # Must run from backend directory
python run.py
```

### trufflehog blocks push
You have a secret in your commit. Remove it and commit again.

---

## Contact

- tmc had to leave early (not feeling well)
- Jerel has the multi-agent implementation working
- This doc + CLAUDE.md should have everything needed

Good luck with the demo!
